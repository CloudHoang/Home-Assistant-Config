# FINDLAYS ROOM SENSOR & DIMMER
- platform: rest
  resource: !secret finn_room_lux
  value_template: "{{(10 ** (float (value_json.state.lightlevel) / 10000) -1) | round (1)}} "
  unit_of_measurement: Lux
  name: 'Findlay Room Lux'
  scan_interval: 600

- platform: rest
  resource: !secret finn_room_motion
  value_template: '{{ value_json.state.presence }}'
  name: 'Findlay Room Motion'
  scan_interval: 2

- platform: rest
  resource: !secret finn_room_temp
  value_template: '{{ value_json.state.temperature | float / 100 | round(1) }}'
  unit_of_measurement: °C
  name: 'Findlay Room Temperature'
  scan_interval: 120

- platform: rest
  resource: !secret finn_room_sensor_battery
  value_template: '{{ value_json.config.battery }}'
  unit_of_measurement: '%'
  scan_interval: 1800
  name: 'Findlay Room Motion Sensor Battery Level'

- platform: rest
  resource: !secret finn_room_switch_battery
  value_template: '{{ value_json.config.battery }}'
  unit_of_measurement: '%'
  scan_interval: 1800
  name: 'Findlays Room Dimmer Switch'

#LIVING ROOM SENSOR & DIMMER
- platform: rest
  resource: !secret livingroom_lux
  value_template: "{{(10 ** (float (value_json.state.lightlevel) / 10000) -1) | round (1)}} "
  unit_of_measurement: Lux
  name: 'Living Room Lux'
  scan_interval: 600

- platform: rest
  resource: !secret livingroom_motion
  value_template: '{{ value_json.state.presence }}'
  name: 'Living Room Motion'
  scan_interval: 2

- platform: rest
  resource: !secret livingroom_temp
  value_template: '{{ value_json.state.temperature | float / 100 | round(1) }}'
  unit_of_measurement: °C
  name: 'Living Room Temperature'
  scan_interval: 120

- platform: rest
  resource: !secret livingroom_sensor_battery
  value_template: '{{ value_json.config.battery }}'
  unit_of_measurement: '%'
  scan_interval: 1800
  name: 'Living Room Motion Sensor Battery Level'

- platform: rest
  resource: !secret livingroom_switch_battery
  value_template: '{{ value_json.config.battery }}'
  unit_of_measurement: '%'
  scan_interval: 1800
  name: 'Living Room Dimmer Switch'

- platform: yr
- platform: time_date
  display_options:
    - "date_time"
- platform: darksky
  api_key: !secret darksky_api_key
  monitored_conditions:
    - summary
    - icon
    - nearest_storm_distance
    - nearest_storm_bearing
    - precip_type
    - precip_intensity
    - precip_probability
    - temperature
    - apparent_temperature
    - dew_point
    - wind_speed
    - wind_bearing
    - cloud_cover
    - humidity
    - pressure
    - visibility
    - ozone
    - minutely_summary
    - hourly_summary
    - daily_summary
    - temperature_max
    - temperature_min
    - apparent_temperature_max
    - apparent_temperature_min
    - precip_intensity_max

#- platform: glances
#  host: 192.168.1.250
#  resources:
#    - 'disk_use_percent'
#    - 'disk_use'
#    - 'disk_free'
#    - 'memory_use_percent'
#    - 'memory_use'
#    - 'memory_free'
#    - 'swap_use_percent'
#    - 'swap_use'
#    - 'swap_free'
#    - 'processor_load'
#    - 'process_running'
#    - 'process_total'
#    - 'process_thread'
#    - 'process_sleeping'

# Owntracks Battery Tracker for Cell Phones
- platform: mqtt
  state_topic: "owntracks/bigdrakar/justin"
  name: "Justin's G5 Battery"
  unit_of_measurement: "%"
  value_template: '{{ value_json.batt }}'
- platform: mqtt
  state_topic: "owntracks/bigdrakar/nicole"
  name: "Nicole's S7 Battery"
  unit_of_measurement: "%"
  value_template: '{{ value_json.batt }}'

- platform: template
  name: "Average Temp"
  sensors:
    average_house_temp:
          unit_of_measurement: "°C"
          value_template: >-
            {{ ((float(states.sensor.findlay_room_temperature.state) + float(states.sensor.hallway_thermostat_temperature.state) + float(states.sensor.living_room_temperature.state)) / 3) | round(1) }}
