################################################################
## Packages / Notifications
################################################################
automation:
###### NOTIFY IF NICOLE HAS LEFT ONE OF HER WORKPLACES
  - alias: Notify If Left Work
    trigger:
      - platform: state
        entity_id: device_tracker.bigdrakar_nicole
        from: 'Work - Westmount'
        to: 'not_home'
      - platform: state
        entity_id: device_tracker.bigdrakar_nicole
        from: 'Work - Old South'
        to: 'not_home'
      - platform: state
        entity_id: device_tracker.bigdrakar_nicole
        from: 'Work - Whitehills'
        to: 'not_home'
    action:
      - service: notify.justin
        data_template:
          message: >
            {{ trigger.to_state.attributes.friendly_name }} has left work.

###### NOTIFY IF VACATION MODE IS ACTIVATED
  - alias: 'Notify if Vacation is On'
    trigger:
      - platform: state
        entity_id: input_boolean.vacation
        from: 'off'
        to: 'on'
    action:
      - service: notify.justin
        data:
          message: 'Vacation Mode has been Activated'

###### NOTIFY IF VACATION MODE IS DEACTIVATED
  - alias: 'Notify if Vacation is Off'
    trigger:
      - platform: state
        entity_id: input_boolean.vacation
        from: 'on'
        to: 'off'
    action:
      - service: notify.justin
        data:
          message: 'Vacation Mode has been Deactivated'

###### NOTIFY IF UPDATE TO HOME ASSISTANT IS Available
  - alias: 'Update Available Notifications'
    trigger:
      - platform: state
        entity_id: updater.updater
    action:
      - service: notify.justin
        data:
          message: 'Update for Home Assistant is available.'

###### NOTIFY IF MOLD SENSOR IS GREATER OR EQUAL TO 70%
  - alias: 'Notify if Mold sensor is too high'
    trigger:
      - platform: numeric_state
        entity_id: sensor.mold_indicator
        above: 69
    action:
      - service: notify.justin
        data_template:
          title: "Possible Mold Growth"
          message: "It's possible to have mold growth because the mold indicator is {{ states.sensor.mold_indicator }}"
